//From 1806 in LeetCode

/**
 * @param {number} n
 * @return {number}
 */
function reinitializePermutation(n) {
  /*
    2 -> 4| -> 6 -> 8| -> 10 -> 12 -> 14 -> 16| -> 18 -> 20
    
    1 -> 2 |-> 4 -> 3| -> 6 -> 10 -> 12 -> 4| -> 8 -> 18
    
    [0,1,2,3,4,5]
    [0,2,4,1,3,5]
    [0,4,3,2,1,5]
    [0,3,1,4,2,5]
    [0,1,2,3,4,5]
    
    
    [0,1,2,3,4,5,6,7]
    [0,2,4,6,1,3,5,7]
    [0,4,1,5,2,6,3,7]
    [0,1,2,3,4,5,6,7]
   
    
    [0,1,2,3,4,5,6,7,8,9]
    [0,2,4,6,8,1,3,5,7,9]
    [0,4,8,3,7,2,6,1,5,9]
    [0,8,7,6,5,4,3,2,1,9]
    [0,7,5,3,1,8,6,4,2,9]
    [0,5,1,6,2,7,3,8,4,9]
    [0,1,2,3,4,5,6,7,8,9]
     
    [0,1,2,3,4,5,6,7,8,9,10,11]
    [0,2,4,6,8,10,1,3,5,7,9,11]
    [0,4,8,1,5,9,2,6,10,3,7,11]
    [0,8,5,2,10,7,4,1,9,6,3,11]
    [0,5,10,4,9,3,8,2,7,1,6,11]
    [0,10,9,8,7,6,5,4,3,2,1,11]
    [0,9,7,5,3,1,10,8,6,4,2,11]
    [0,7,3,10,6,2,9,5,1,8,4,11]
    [0,3,6,9,1,4,7,10,2,5,8,11]
    [0,6,1,7,2,8,3,9,4,10,5,11]
    [0,1,2,3,4,5,6,7,8,9,10,11]
    
    
    [0,1,2,3,4,5,6,7,8,9,10,11,12,13]
    [0,2,4,6,8,10,12,1,3,5,7,9,11,13]
    [0,4,8,12,3,7,11,2,6,10,1,5,9,13]
    [0,8,3,11,6,1,9,4,12,7,2,10,5,13]
    [0,3,6,9,12,2,5,8,11,1,4,7,10,13]
    [0,6,12,5,11,4,10,3,9,2,8,1,7,13]
    [0,12,11,10,9,8,7,6,5,4,3,2,1,13]
    [0,11,9,7,5,3,1,12,10,8,6,4,2,13]
    [0,9,5,1,10,6,2,11,7,3,12,8,4,13]
    [0,5,10,2,7,12,4,9,1,6,11,3,8,13]
    [0,10,7,4,1,11,8,5,2,12,9,6,3,13]
    [0,7,1,8,2,9,3,10,4,11,5,12,6,13]
    [0,1,2,3,4,5,6,7,8,9,10,11,12,13]
    
    [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]
    [0,2,4,6,8,10,12,14,1,3,5,7,9,11,13,15]
    [0,4,8,12,1,5,9,13,2,6,10,14,3,7,11,15]
    [0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15]
    [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]
    
    [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]
    [0,2,4,6,8,10,12,14,16,1,3,5,7,9,11,13,15,17] + 2 mod 17
    [0,4,8,12,16,3,7,11,15,2,6,10,14,1,5,9,13,17] + 4 mod 17
    [0,8,16,7,15,6,14,5,13,4,12,3,11,2,10,1,9,17] + 8 mod 17
    [0,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,17] + 16 mod 17
    [0,15,13,11,9,7,5,3,1,16,14,12,10,8,6,4,2,17] + 15 mod 17
    [0,13,9,5,1,14,10,6,2,15,11,7,3,16,12,8,4,17] + 13 mod 17
    [0,9,1,10,2,11,3,12,4,13,5,14,6,15,7,16,8,17] + 9 mod 17
    [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17] + 1 mod 17
    
    
    [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]
    [0,2,4,6,8,10,12,14,16,18,1,3,5,7,9,11,13,15,17,19] + 2 mod 19
    [0,4,8,12,16,1,5,9,13,17,2,6,10,14,18,3,7,11,15,19] + 4 mod 19
    [0,8,16,5,13,2,10,18,7,15,4,12,1,9,17,6,14,3,11,19] + 8 mod 19
    [0,16,13,10,7,4,1,17,14,11,8,5,2,18,15,12,9,6,3,19] + 16 mod 19
    [0,13,7,1,14,8,2,15,9,3,16,10,4,17,11,5,18,12,6,19] + 13 mod 19
    [0,7,14,2,9,16,4,11,18,6,13,1,8,15,3,10,17,5,12,19] + 7 mod 19
    [0,14,9,4,18,13,8,3,17,12,7,2,16,11,6,1,15,10,5,19] + 14 mod 19
    [0,9,18,8,17,7,16,6,15,5,14,4,13,3,12,2,11,1,10,19] + 9 mod 19
    [0,18,17,16,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,19] + 18 mod 19
    [0,17,15,13,11,9,7,5,3,1,18,16,14,12,10,8,6,4,2,19] + 17 mod 19
    [0,15,11,7,3,18,14,10,6,2,17,13,9,5,1,16,12,8,4,19] + 15 mod 19
    [0,11,3,14,6,17,9,1,12,4,15,7,18,10,2,13,5,16,8,19] + 11 mod 19
    [0,3,6,9,12,15,18,2,5,8,11,14,17,1,4,7,10,13,16,19] + 3 mod 19
    [0,6,12,18,5,11,17,4,10,16,3,9,15,2,8,14,1,7,13,19] + 6 mod 19
    [0,12,5,17,10,3,15,8,1,13,6,18,11,4,16,9,2,14,7,19] + 12 mod 19
    [0,5,10,15,1,6,11,16,2,7,12,17,3,8,13,18,4,9,14,19] + 5 mod 19
    [0,10,1,11,2,12,3,13,4,14,5,15,6,16,7,17,8,18,9,19] + 10 mod 19
    [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19] + 1 mod 19
    */
  if (n === 2) {
    return 1;
  }
  let result = 1;
  let start = 2;
  let mod = n - 1;
  while (start % mod !== 1) {
    result++;
    start = (start * 2) % mod;
  }
  return result;
}
